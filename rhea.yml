---
- name: Fedora workstation post-installation system setup
  hosts: localhost
  connection: local

  vars:
    do_not_access_home_dir: false
    firewall_type: firewalld

  roles:
   - fedora-ansible-dependencies
   - role: fedora-common
     update_forced: false
   - firewall
   - role: sshd
     ssh_allow_users:
      - root
   - user-root
   - role: users
     additional_users:
      - jarek
      - tomas
      - hana
      - honzik
      - filip
      - host
      - backup
   - role: sddm
     sddm_hide_users:
      - backup
   - role: cups-printer-xerox
     cups_printer_xerox_ppd_file: /root/data/xerox/cd/Linux/xerox.ppd/ph3250.ppd
   - role: custom-xmonad-desktop
     xscreensaver_lock_username: martin

  tasks:
   - name: Install additional packages
     dnf: name={{ item }} state=present
     tags: install-packages
     with_items:
      - vim
      - mc
      - vifm
      - tmux
      - htop
      - vlc
      - mplayer
      - pandoc
      - pmount
      - firefox
      - thunderbird
      - thunderbird-enigmail
      - keepassx
      - audacity
      - gimp
      - geeqie
      - nmap
      - ddrescue
      - fbreader
